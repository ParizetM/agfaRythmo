# Resemblyzer Diarization - Requirements
# Workflow: Spleeter → Whisper → Resemblyzer
# Estimated RAM: ~2-2.5GB (fits in 4GB server)

# ============================================
# 1. SEPARATION VOCALE (Spleeter)
# ============================================
spleeter==2.1.0              # Séparation vocals/instrumental (~200MB RAM)
                             # Modèle: 2stems (vocals + accompaniment)
                             # Version 2.1.0 stable (compatible Python 3.10+)

# ============================================
# 2. TRANSCRIPTION (Whisper - déjà installé)
# ============================================
# openai-whisper==20231117   # Déjà dans requirements.txt
# Modèles: tiny (39M), base (74M), small (244M)

# ============================================
# 3. DIARIZATION (Resemblyzer)
# ============================================
Resemblyzer==0.1.1.dev0      # Speaker embeddings 256D (~1GB RAM)
                             # Pre-trained sur LibriSpeech + VoxCeleb

# ============================================
# 4. CLUSTERING & PROCESSING
# ============================================
scikit-learn>=1.7.2          # Clustering (déjà installé)
umap-learn==0.5.7            # Dimensionality reduction (optionnel)
hdbscan==0.8.38              # Clustering hiérarchique (optionnel, meilleur que KMeans)

# ============================================
# 5. AUDIO PROCESSING
# ============================================
librosa>=0.11.0              # Déjà installé
soundfile>=0.13.1            # Déjà installé
pydub==0.25.1                # Manipulation audio (optionnel)

# ============================================
# 6. UTILITIES
# ============================================
numpy>=2.3.4                 # Déjà installé
scipy>=1.16.3                # Déjà installé
tqdm==4.67.1                 # Progress bars

# ============================================
# TOTAL ESTIMATION
# ============================================
# Spleeter:      ~200MB RAM
# Whisper tiny:  ~500MB RAM
# Resemblyzer:   ~1GB RAM
# Overhead:      ~300MB RAM
# ────────────────────────────
# TOTAL:         ~2GB RAM
# 
# ✅ Compatible serveur 4GB RAM
# ✅ Précision >>> MFCC clustering
# ✅ Production-ready
